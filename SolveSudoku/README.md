# SolveSudoku - 数独ソルバー

高性能な数独解法プログラムです。制約伝播とバックトラッキングを組み合わせて効率的に数独を解きます。

## 機能

### アルゴリズム
- **制約伝播 (Constraint Propagation)**: 論理的推論による効率的な解法
  - Naked Singles: セルに入る可能性のある数字が1つだけの場合
  - Hidden Singles: 行・列・ボックス内でその数字が入る場所が1つだけの場合
- **バックトラッキング**: 制約伝播で解けない場合の探索アルゴリズム
- **bitsetによる高速化**: メモリ効率と計算速度の最適化

### 入出力機能
- ファイル入力・出力対応
- 手動入力機能
- 美しい表示形式（罫線付き）
- 実行時間計測

### 検証機能
- 数独の妥当性チェック
- 解の正当性検証
- 空セル数カウント

## 使用方法

### コンパイル
```bash
g++ -std=c++17 -O2 SolveSudoku.cpp -o SolveSudoku
```

### 実行
```bash
./SolveSudoku
```

プログラム起動後、以下の選択肢が表示されます：
1. ファイルから読み込み
2. 手動入力
3. テストケース実行

### 入力形式
数独パズルは9x9の数字で表現します。空のセルは0で表現してください。

#### ファイル形式例 (test1.txt)
```
5 3 0 0 7 0 0 0 0
6 0 0 1 9 5 0 0 0
0 9 8 0 0 0 0 6 0
8 0 0 0 6 0 0 0 3
4 0 0 8 0 3 0 0 1
7 0 0 0 2 0 0 0 6
0 6 0 0 0 0 2 8 0
0 0 0 4 1 9 0 0 5
0 0 0 0 8 0 0 7 9
```

## テストケース

### 提供されているテストケース
- `test1.txt`: 中級レベル（標準的な数独パズル）
- `test2.txt`: 上級レベル（より難しいパズル）
- `easy.txt`: 初級レベル（簡単なパズル）
- `hard.txt`: 最上級レベル（非常に難しいパズル）

## 技術的特徴

### パフォーマンス最適化
- bitsetを使用した高速な制約チェック
- 制約伝播による探索空間の削減
- マイクロ秒単位の実行時間計測

### 安全性
- 入力の妥当性チェック
- 無効な数独の検出
- エラーハンドリング

### 拡張性
- アルゴリズムの追加が容易
- 異なるサイズの数独への拡張可能
- 統計情報の収集機能

## アルゴリズムの詳細

### 制約伝播
1. **Naked Singles**: 各セルで可能な候補が1つだけになった場合に確定
2. **Hidden Singles**: 各行・列・ボックスで特定の数字が入る場所が1つだけの場合に確定

### バックトラッキング
制約伝播で解けない場合に実行される再帰的探索アルゴリズム：
1. 空のセルを見つける
2. 1-9の数字を試行
3. 制約を満たす場合、再帰的に次のセルを処理
4. 行き詰まった場合、前の状態に戻る

## 出力例

```
=== 数独ソルバー ===
1. ファイルから読み込み
2. 手動入力  
3. テストケース実行
選択してください (1-3): 1
ファイル名を入力してください: test1.txt

初期状態:
┌───────┬───────┬───────┐
│ 5 3 · │ · 7 · │ · · · │
│ 6 · · │ 1 9 5 │ · · · │
│ · 9 8 │ · · · │ · 6 · │
├───────┼───────┼───────┤
│ 8 · · │ · 6 · │ · · 3 │
│ 4 · · │ 8 · 3 │ · · 1 │
│ 7 · · │ · 2 · │ · · 6 │
├───────┼───────┼───────┤
│ · 6 · │ · · · │ 2 8 · │
│ · · · │ 4 1 9 │ · · 5 │
│ · · · │ · 8 · │ · 7 9 │
└───────┴───────┴───────┘
空のセル数: 51

解析中...
制約伝播のみで解決しました (時間: 234 マイクロ秒)

解答:
┌───────┬───────┬───────┐
│ 5 3 4 │ 6 7 8 │ 9 1 2 │
│ 6 7 2 │ 1 9 5 │ 3 4 8 │
│ 1 9 8 │ 3 4 2 │ 5 6 7 │
├───────┼───────┼───────┤
│ 8 5 9 │ 7 6 1 │ 4 2 3 │
│ 4 2 6 │ 8 5 3 │ 7 9 1 │
│ 7 1 3 │ 9 2 4 │ 8 5 6 │
├───────┼───────┼───────┤
│ 9 6 1 │ 5 3 7 │ 2 8 4 │
│ 2 8 7 │ 4 1 9 │ 6 3 5 │
│ 3 4 5 │ 2 8 6 │ 1 7 9 │
└───────┴───────┴───────┘
```